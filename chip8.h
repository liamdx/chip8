#include <stack>

constexpr int SCREEN_WIDTH = 64;
constexpr int SCREEN_HEIGHT = 32;
constexpr int MEMORY_CAPACITY = 4096;

#define MEMORY_START 0x000
#define MEMORY_END 0xFFF
#define PROGRAM_START = 0x200
#define PROGRAM_START_ETI_660 = 0x600

class chip8
{
public:

    chip8();

protected:
    
    // called 60 times per second
    void Update(unsigned short newState);

    void Initialize();
    void FillFont();

    union
    {
        unsigned char Memory[MEMORY_CAPACITY];
        struct
        {
            unsigned char V[16], Display[(SCREEN_HEIGHT * SCREEN_WIDTH) / 8], Font[16 * 5], DelayTimer, SoundTimer, StackPointer;
            unsigned short Stack[16], I, PC, Keyboard;
        };
    };

    //0xF0, 0x90, 0x90, 0x90, 0xF0, // 0
    //0x20, 0x60, 0x20, 0x20, 0x70, // 1
    //0xF0, 0x10, 0xF0, 0x80, 0xF0, // 2
    //0xF0, 0x10, 0xF0, 0x10, 0xF0, // 3
    //0x90, 0x90, 0xF0, 0x10, 0x10, // 4
    //0xF0, 0x80, 0xF0, 0x10, 0xF0, // 5
    //0xF0, 0x80, 0xF0, 0x90, 0xF0, // 6
    //0xF0, 0x10, 0x20, 0x40, 0x40, // 7
    //0xF0, 0x90, 0xF0, 0x90, 0xF0, // 8
    //0xF0, 0x90, 0xF0, 0x10, 0xF0, // 9
    //0xF0, 0x90, 0xF0, 0x90, 0x90, // A
    //0xE0, 0x90, 0xE0, 0x90, 0xE0, // B
    //0xF0, 0x80, 0x80, 0x80, 0xF0, // C
    //0xE0, 0x90, 0x90, 0x90, 0xE0, // D
    //0xF0, 0x80, 0xF0, 0x80, 0xF0, // E
    //0xF0, 0x80, 0xF0, 0x80, 0x80  // F
};